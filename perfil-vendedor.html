<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Perfil del Vendedor - BZ Online</title>
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" integrity="sha512-0aM1..." crossorigin="anonymous" referrerpolicy="no-referrer" />
</head>
<body>
    <header>
        <div class="logo-container">
            <img src="https://res.cloudinary.com/dvdctjltz/image/upload/v1761329349/Logo_fhwezv.jpg" alt="Logo de la Tienda" class="logo-img">
            <h1>BZ Online</h1>
        </div>
        <button class="hamburger-menu" id="hamburger-menu">
            <span></span>
            <span></span>
            <span></span>
        </button>
        <nav class="user-info" id="main-nav">
            <p id="user-email"></p>
            <!-- chip de perfil (lo rellena JS) -->
            <a id="profile-chip" class="profile-chip" href="#">
              <img class="chip-avatar" src="" alt="Perfil"/>
              <span class="chip-name"></span>
            </a>
            <div class="icon-container">
              <div id="cart-icon" class="cart-icon-container">
                <i class="cart-icon">&#128722;</i>
                <span id="cart-count" class="cart-count" style="display:none;">0</span>
              </div>
            </div>
            <button onclick="history.back()" class="back-button">&larr; Volver a la anterior</button>
            <button id="logout-button">Cerrar Sesión</button>
        </nav>
    </header>

    <main class="container">
       
        <section id="seller-details-section">
            <div class="seller-header">
                <img id="seller-profile-picture" src="https://via.placeholder.com/150" alt="Foto de Perfil del Vendedor" class="profile-picture">
                <div>
                    <!-- <h2 id="seller-store-name">Nombre de la Tienda</h2> -->
                    <p id="seller-username"></p>

                </div>
            </div>
            <div class="seller-stats">
                <div class="stat-item">
                    <h4>Pedidos</h4>
                    <p id="orders-count">0</p>
                </div>
                <div class="stat-item">
                    <h4>Productos</h4>
                    <p id="products-count">0</p>
                </div>
            </div>
            <div class="seller-contact-info">
                <h3>Contacto</h3>
                <p><i class="fas fa-phone"></i> Teléfono: <span id="seller-phone"></span></p>
                <p><i class="fab fa-whatsapp"></i> WhatsApp: <span id="seller-whatsapp"></span></p>
                <p><i class="fab fa-facebook"></i> Facebook: <span id="seller-facebook"></span></p>
                <p><i class="fab fa-instagram"></i> Instagram: <span id="seller-instagram"></span></p>
            </div>
            <button id="edit-seller-profile-btn" class="hidden">Editar Perfil</button>
        </section>

        <section id="calificaciones-section">
            <h2>Mis Calificaciones</h2>
            <div id="my-ratings"></div>
        </section>

        <section id="detailed-ratings-section">
            <h2>Calificaciones Detalladas</h2>
            <div id="detailed-ratings-list"></div>
        </section>

        <section id="rate-seller-section" class="hidden">
            <h2>Calificar a este Vendedor</h2>
            <form id="rating-form">
                <div class="rating-stars">
                    <span class="star" data-value="1">★</span>
                    <span class="star" data-value="2">★</span>
                    <span class="star" data-value="3">★</span>
                    <span class="star" data-value="4">★</span>
                    <span class="star" data-value="5">★</span>
                </div>
                <input type="hidden" id="rating-value" name="rating-value" required>
                <div class="form-group">
                    <label for="rating-comment">Comentario:</label>
                    <textarea id="rating-comment" rows="4"></textarea>
                </div>
                <button type="submit">Enviar Calificación</button>
            </form>
        </section>



        <!-- Modal de Edición de Producto -->
        <div id="edit-product-modal" class="modal">
            <div class="modal-content">
                <span class="close-button">&times;</span>
                <h2>Editar Producto</h2>
                <form id="edit-product-form">
                    <input type="hidden" id="edit-product-id">
                    <label for="edit-product-name">Nombre:</label>
                    <input type="text" id="edit-product-name" required>
                    <label for="edit-product-description">Descripción:</label>
                    <textarea id="edit-product-description" required></textarea>
                    <label for="edit-product-price">Precio:</label>
                    <input type="number" id="edit-product-price" step="0.01" required>
                    <label for="edit-product-image-url">URL de la Imagen:</label>
                    <input type="url" id="edit-product-image-url" required>
                    <button type="submit">Guardar Cambios</button>
                </form>
            </div>
        </div>

        <!-- Modal de Edición de Perfil del Vendedor -->
        <div id="edit-seller-profile-modal" class="modal">
            <div class="modal-content">
                <span class="close-button-seller-profile">&times;</span>
                <h2>Editar Perfil de Vendedor</h2>
                <form id="edit-seller-profile-form">
                    <div class="form-group">
                        <label for="edit-seller-username">Nombre de Usuario:</label>
                        <input type="text" id="edit-seller-username" required>
                    </div>
                    <div class="form-group">
                        <label for="edit-seller-phone">Teléfono:</label>
                        <input type="tel" id="edit-seller-phone">
                    </div>
                    <div class="form-group">
                        <label for="edit-seller-whatsapp">WhatsApp:</label>
                        <input type="tel" id="edit-seller-whatsapp">
                    </div>
                    <div class="form-group">
                        <label for="edit-seller-facebook">Facebook:</label>
                        <input type="url" id="edit-seller-facebook">
                    </div>
                    <div class="form-group">
                        <label for="edit-seller-instagram">Instagram:</label>
                        <input type="url" id="edit-seller-instagram">
                    </div>
                    <div class="form-group">
                        <label for="profile-image-upload">Foto de Perfil:</label>
                        <div class="image-upload-wrapper">
                            <input type="file" id="profile-image-upload" class="image-upload-input" accept="image/*">
                            <label for="profile-image-upload" class="image-upload-label">
                                <i class="fas fa-cloud-upload-alt"></i>
                                <span>Arrastra y suelta tu imagen o haz clic aquí</span>
                            </label>
                            <p id="profile-image-upload-status"></p>
                        </div>
                        <input type="hidden" id="profile-image-url">
                        <img id="current-profile-picture" src="https://via.placeholder.com/100" alt="Foto de Perfil Actual" class="current-profile-picture-preview">
                    </div>
                    <button type="submit">Guardar Cambios</button>
                </form>
            </div>
        </div>
    </main>

    <div id="cart-modal" class="cart-modal">
        <div class="cart-modal-content">
            <span class="close-cart-btn">&times;</span>
            <h2>Mi Carrito</h2>
            <div id="cart-items-container" class="cart-items-container">
                <!-- Cart items will be loaded here -->
            </div>
        </div>
    </div>

    <footer>
        <p>&copy; 2025 Tu Tienda de Ropa</p>
    </footer>

    <!-- Scripts de Firebase -->
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-auth.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-firestore.js"></script>

    <!-- Mis scripts -->
    <script src="js/firebase-config.js"></script>
    <script src="js/perfil-vendedor.js"></script>
    <script src="js/app.js"></script>
    
</body>
</html>
